\clearpage
# Tables
<!-- ====================================================================== -->
<!-- data tables -->
<!-- ====================================================================== -->

```{r, tables-catch, results = 'asis'}
catch_by_state <- read.csv("../tables/commercial_catch_by_state_v2.csv")
catch_by_state$North <- catch_by_state$wa + catch_by_state$or
catch_by_state$Total <- catch_by_state$wa + catch_by_state$or + catch_by_state$ca
catch_by_state[,-1] <- round(catch_by_state[,-1])

catch_table <- data.frame("Year" = catch_by_state$year,
  Total = catch_by_state$Total,
  "North (OR + WA)" = catch_by_state$North,
  "South (CA)" = catch_by_state$ca,
  WA = catch_by_state$wa, 
  OR = catch_by_state$or,
  check.names = FALSE)

sa4ss::table_format(x = catch_table,
                 caption = paste("Landed catch by fleet and state (mt)."),
                 label = 'catch-table'
                 )
```

```{r, tables-samples, results = 'asis'}
len_samps <- read.csv("../tables/length_samps_comm_by_fleet.csv")

sa4ss::table_format(x = len_samps,
                 caption = 'Sample sizes of commercial length composition data by fleet.',
                 label = 'sample-size-length-by-fleet',
                 col_names = c("Year", "Trips North",
                  "Fish North", "Input N North",
                   "Trips South", "Fish South", "Input N South"),
                 )
```


<!-- ====================================================================== -->
<!-- model tables -->
<!-- ====================================================================== -->
```{r tables-model, results = "asis"}
cat("\\begin{landscape}")
table_pars_split(mod_base)
cat("\\end{landscape}")
```

```{r tables-timeseries, results = "asis"}
table_ts(mod_base)
```

```{r tables-weights, results = "asis"}
table_compweight(mod_base, 
  caption_extra = paste("The WCGBTS age comps are conditioned on length,",
   "so there are more observations with fewer samples per observation.")
)
```


```{r tables-old_vs_new, results = "asis"}
table_sens("../tables/sens_table_old_vs_new.csv",
	       sens_group = "old_vs_new",
           pretty = FALSE, # don't modify model names in this case because they are already OK
           caption = "Estimates of key parameters and derived quantities compared between the base model and the 2019 assessment.")
```
\clearpage

```{r tables-sens-index, results = "asis"}
table_sens("../tables/sens_table_index.csv",
           pretty = FALSE, # don't modify model names in this case because they are already OK
	       sens_group = "index",
           caption_extra = "The indices and total likelihoods are not comparable for the models that add or subtract data (2004 triennial and fishery CPUE).")
```       
\clearpage

```{r tables-sens-comp, results = "asis"}
table_sens("../tables/sens_table_comp.csv",
           pretty = FALSE, # don't modify model names in this case because they are already OK
	       sens_group = "comp",
           caption_extra = "The length, age, and total likelihoods are not comparable across models due to differences in weighting.")
```           
\clearpage
    
```{r tables-sens-sel, results = "asis"}
table_sens("../tables/sens_table_sel.csv",
           pretty = FALSE, # don't modify model names in this case because they are already OK
	       sens_group = "sel")
```           
\clearpage

```{r tables-sens-bio, results = "asis"}
table_sens("../tables/sens_table_bio.csv",
           pretty = FALSE, # don't modify model names in this case because they are already OK
	       sens_group = "bio",
           caption_extra = "Sensitivity to using the 2019 fecundity is represented in the bridging analysis.")
```           
\clearpage

